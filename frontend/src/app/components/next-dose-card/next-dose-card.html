<!--src/app/components/next-dose-card/next-dose-card.html-->
<div class="next-dose-card" [class]="getStatusColor()" *ngIf="simulationData">
  
  <div class="card-header">
    <div class="icon">â°</div>
    <h3>PrÃ³xima Dosis Recomendada</h3>
  </div>

  <div class="card-body">
    
    <!-- Tiempo principal -->
    <div class="main-time">
      <div class="time-value">{{ formatTime(nextDoseTime) }}</div>
      <div class="time-label">hasta prÃ³xima dosis</div>
    </div>

    <!-- Barra de progreso -->
    <div class="progress-bar">
      <div class="progress-fill" [style.width.%]="getProgressPercentage()"></div>
    </div>

    <!-- InformaciÃ³n detallada -->
    <div class="dose-info">
      <div class="info-row">
        <span class="info-icon">ğŸ“Š</span>
        <span class="info-text">
          El medicamento alcanzarÃ¡ el nivel terapÃ©utico mÃ­nimo 
          ({{ therapeuticMinLevel }} mg/L) en {{ formatTime(nextDoseTime) }}
        </span>
      </div>

      <div class="info-row">
        <span class="info-icon">ğŸ“…</span>
        <span class="info-text">
          <strong>Fecha estimada:</strong> {{ formatDate(nextDoseDate) }}
        </span>
      </div>

      <div class="info-row status" [class]="getStatusColor()">
        <span class="info-icon">{{ getStatusIcon() }}</span>
        <span class="info-text">
          <strong>Estado:</strong> {{ getStatusText() }}
        </span>
      </div>
    </div>

    <!-- Recomendaciones -->
    <div class="recommendations">
      <h4>ğŸ’¡ Recomendaciones:</h4>
      <ul>
        <li *ngIf="getStatusColor() === 'success'">
          El paciente estÃ¡ dentro del rango terapÃ©utico
        </li>
        <li *ngIf="getStatusColor() === 'warning'">
          Preparar la prÃ³xima dosis con anticipaciÃ³n
        </li>
        <li *ngIf="getStatusColor() === 'danger'">
          AtenciÃ³n: El nivel terapÃ©utico estÃ¡ prÃ³ximo a finalizar
        </li>
        <li>Monitorear signos vitales del paciente</li>
        <li>Verificar funciÃ³n renal antes de administrar siguiente dosis</li>
      </ul>
    </div>

    <!-- BotÃ³n de acciÃ³n (opcional) -->
    <div class="card-actions">
      <button class="btn-reminder">
        <span class="btn-icon">ğŸ””</span>
        Programar Recordatorio
      </button>
      <button class="btn-print">
        <span class="btn-icon">ğŸ–¨ï¸</span>
        Imprimir IndicaciÃ³n
      </button>
    </div>

  </div>

</div>