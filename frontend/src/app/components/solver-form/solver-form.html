<!--src/app/components/solver-form/solver-form.html-->
<div class="solver-form-container">
  <h2>üìä Calcular Concentraci√≥n de Medicamento</h2>
  
  <form (ngSubmit)="onSubmit()" #solverForm="ngForm">
    
    <!-- Selecci√≥n de medicamento -->
    <div class="form-group">
      <label for="medication">Medicamento:</label>
      <select 
        id="medication" 
        [(ngModel)]="formData.medication" 
        name="medication"
        (change)="onMedicationChange()"
        class="form-control">
        <option *ngFor="let med of medications" [value]="med.value">
          {{ med.name }} - {{ med.description }}
        </option>
      </select>
    </div>

    <!-- Concentraci√≥n inicial -->
    <div class="form-group">
      <label for="C0">Concentraci√≥n Inicial (C‚ÇÄ):</label>
      <input 
        type="number" 
        id="C0" 
        [(ngModel)]="formData.C0" 
        name="C0"
        min="0"
        step="0.1"
        class="form-control"
        required>
      <small>mg/L en sangre</small>
    </div>

    <!-- Constante de eliminaci√≥n -->
    <div class="form-group">
      <label for="k">Constante de Eliminaci√≥n (k):</label>
      <input 
        type="number" 
        id="k" 
        [(ngModel)]="formData.k" 
        name="k"
        min="0"
        step="0.001"
        class="form-control"
        required>
      <small>1/hora - Qu√© tan r√°pido se elimina</small>
    </div>

    <!-- Tiempo a simular -->
    <div class="form-group">
      <label for="timeRange">Tiempo a Simular:</label>
      <input 
        type="number" 
        id="timeRange" 
        [(ngModel)]="formData.timeRange" 
        name="timeRange"
        min="1"
        max="48"
        class="form-control"
        required>
      <small>Horas (1-48)</small>
    </div>

    <!-- N√∫mero de puntos -->
    <div class="form-group">
      <label for="numPoints">Precisi√≥n del C√°lculo:</label>
      <input 
        type="number" 
        id="numPoints" 
        [(ngModel)]="formData.numPoints" 
        name="numPoints"
        min="10"
        max="200"
        class="form-control">
      <small>Puntos calculados (10-200)</small>
    </div>

    <!-- Mensaje de error -->
    <div *ngIf="error" class="alert alert-error">
      ‚ö†Ô∏è {{ error }}
    </div>

    <!-- Bot√≥n -->
    <button 
      type="submit" 
      class="btn-calculate"
      [disabled]="!isFormValid() || loading">
      <span *ngIf="!loading">üßÆ Calcular Concentraci√≥n</span>
      <span *ngIf="loading">‚è≥ Calculando...</span>
    </button>

  </form>
</div>